:_content-type: PROCEDURE

[id="validating-puppet-environments-on-the-external-capsule-servers_{context}"]
= Validating Puppet Environments on the External {SmartProxyServer}

After upgrading the {SmartProxyServer} to {ProjectVersion}, ensure the availability of the puppet environments inside the `/etc/puppetlabs/code/environments` file of the {SmartProxyServer}.

.Procedure
. To view the Puppet environments, open the `/etc/puppetlabs/code/environments` file.
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# vim /etc/puppetlabs/code/environments
----
. If any of the puppet environments are missing, copy them back from:
.. the {project} server or 
.. the backup taken prior to upgrade 
. Ensure to have the right permissions and ownership of the missing contents inside  `/etc/puppetlabs/code/environments/` file after they have been restored back.
. Save and close the file. 
